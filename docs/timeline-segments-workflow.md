# 分句时间轴工作流程说明

## 功能概述

根据您的设计图，我们实现了一个全新的分句时间轴界面，完全符合您的工作流程需求：文本输入 → 分句 → 时间序列展示 → 点击编辑。

## 界面布局

### 1. 顶部提示区域
- **提示文字**：显示"提示：您也可以使用选择工具双击任意位置来添加文字"
- **功能**：引导用户了解双击添加文字的功能

### 2. 句子时间轴区域
- **时间轴线条**：白色水平线，贯穿整个时间轴
- **句子指示器**：
  - 白色矩形框，显示"句子"文字
  - 下方灰色圆形标记，位于时间轴线上
  - 支持点击选择、悬停效果、播放状态指示
- **时间轴结束标记**：右侧的白色竖线，表示时间轴结束

### 3. 句子语音编辑区域
- **区域标题**：带白色圆点的"句子语音编辑区域"标签
- **选中句子编辑**：
  - 显示句子编号和操作按钮
  - 文本内容展示
  - 语音设置信息（语音、语速、音调、时长）
- **空状态**：未选择句子时显示提示信息

## 工作流程

### 1. 文本输入和分句
1. 在侧边栏输入文本
2. 选择分句方式（标点符号、段落、AI智能）
3. 点击"分句生成"按钮
4. 系统自动分句并为每个分句生成语音

### 2. 时间轴展示
1. 切换到"分句视图"
2. 在时间轴上看到所有分句的"句子"指示器
3. 每个句子按时间顺序排列在时间轴线上
4. 可以滚动查看完整的时间轴

### 3. 句子选择和编辑
1. **点击句子**：选择要编辑的句子
   - 句子指示器变为激活状态（蓝色）
   - 下方编辑区域显示该句子的详细信息
2. **播放句子**：点击播放按钮试听语音
3. **编辑句子**：点击编辑按钮进入详细编辑模式

### 4. 双击添加文字
1. 在时间轴任意位置双击
2. 系统会在该位置添加新的文字输入点
3. 可以输入新文字并生成语音

## 视觉设计特点

### 1. 深色主题
- **背景色**：深灰色 (#1a1a1a)
- **文字色**：白色和浅灰色
- **边框色**：深灰色 (#333)

### 2. 句子指示器
- **正常状态**：白色矩形框，灰色圆形标记
- **激活状态**：蓝色圆形标记，放大效果
- **播放状态**：绿色圆形标记，脉冲动画

### 3. 编辑区域
- **圆角设计**：12px圆角，现代化外观
- **分层布局**：不同功能区域用边框分隔
- **信息展示**：标签化的设置信息，清晰易读

## 交互功能

### 1. 句子选择
- 点击句子指示器选择
- 支持键盘导航
- 选中状态视觉反馈

### 2. 播放控制
- 单个句子播放/暂停
- 播放状态实时更新
- 播放进度显示

### 3. 编辑功能
- 文本内容编辑
- 语音参数调整
- 重新生成语音
- 保存更改

### 4. 时间轴操作
- 水平滚动查看
- 双击添加新文字
- 拖拽调整位置（未来功能）

## 技术实现

### 1. 组件结构
```
TimelineSegments.vue
├── 提示文字区域
├── 句子时间轴区域
│   ├── 时间轴线条
│   ├── 句子指示器列表
│   └── 时间轴结束标记
└── 句子语音编辑区域
    ├── 区域标题
    ├── 选中句子编辑器
    └── 空状态提示
```

### 2. 数据流
```
Editor.vue → TimelineSegments.vue
├── segments: 分句数据
├── selectedSegmentId: 选中句子ID
├── playingSegmentId: 播放句子ID
└── totalDuration: 总时长

TimelineSegments.vue → Editor.vue
├── select-segment: 选择句子
├── play-segment: 播放句子
├── edit-segment: 编辑句子
└── add-text: 添加文字
```

### 3. 样式特点
- **响应式设计**：支持移动端适配
- **动画效果**：悬停、选中、播放状态动画
- **深色主题**：符合专业音频编辑软件风格

## 使用建议

1. **首次使用**：先输入文本并分句，然后切换到分句视图
2. **编辑流程**：点击句子 → 查看信息 → 编辑 → 保存
3. **播放测试**：编辑后及时播放测试效果
4. **批量操作**：可以连续编辑多个句子

这个实现完全符合您的设计图要求，提供了直观的时间轴分句展示和便捷的编辑功能。
