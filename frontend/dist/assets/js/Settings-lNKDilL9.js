import{m as $,n as w,d as q,P as T,c as I,o as c,a as e,w as t,E as h,b as o,e as ee,r as y,f as le,g as p,i as te,W as oe,X as ae,Y as ne,Z as se,z as U,Q as ue,C as N,R as ie,_ as de,$ as me,v as re,D as pe,H as ve,L as fe,a0 as ge,h as _e,x as Se,k as be,K as O,l as Ve}from"./index-BgjiYeva.js";/* empty css                *//* empty css                  *//* empty css                       *//* empty css                     */import{_ as ce}from"./_plugin-vue_export-helper-T9wiJ-W-.js";const ye=$("settings",()=>{const _=w({provider:"aliyun",voice:"zhichu",speed:1,pitch:1,volume:1,apiKey:"",apiUrl:""}),v=w({outputFormat:"mp3",sampleRate:44100,bitRate:128,channels:2,normalize:!0}),s=w({theme:"auto",language:"zh-CN",fontSize:"medium",showGrid:!0,autoSave:!0,autoSaveInterval:30}),f=r=>{Object.assign(_.value,r),n()},u=r=>{Object.assign(v.value,r),n()},m=r=>{Object.assign(s.value,r),n()},n=()=>{try{localStorage.setItem("ttsSettings",JSON.stringify(_.value)),localStorage.setItem("audioSettings",JSON.stringify(v.value)),localStorage.setItem("uiSettings",JSON.stringify(s.value))}catch(r){console.error("保存设置失败:",r)}},E=()=>{try{const r=localStorage.getItem("ttsSettings");r&&(_.value={..._.value,...JSON.parse(r)});const S=localStorage.getItem("audioSettings");S&&(v.value={...v.value,...JSON.parse(S)});const l=localStorage.getItem("uiSettings");l&&(s.value={...s.value,...JSON.parse(l)})}catch(r){console.error("加载设置失败:",r)}};return{ttsSettings:_,audioSettings:v,uiSettings:s,updateTTSSettings:f,updateAudioSettings:u,updateUISettings:m,saveSettings:n,loadSettings:E,resetSettings:()=>{_.value={provider:"aliyun",voice:"zhichu",speed:1,pitch:1,volume:1,apiKey:"",apiUrl:""},v.value={outputFormat:"mp3",sampleRate:44100,bitRate:128,channels:2,normalize:!0},s.value={theme:"auto",language:"zh-CN",fontSize:"medium",showGrid:!0,autoSave:!0,autoSaveInterval:30},n()},init:()=>{E()}}}),Ie={class:"settings"},Ue={class:"header-content"},Ee={class:"title"},ke={class:"header-actions"},we={class:"settings-content"},ze={class:"settings-panel"},xe={key:0,class:"settings-section"},Ce={key:1,class:"settings-section"},Re={key:2,class:"settings-section"},Te={key:3,class:"settings-section"},Ne={class:"settings-actions"},Oe=q({__name:"Settings",setup(_){const v=Ve(),s=ye(),f=w("tts"),u=T({...s.ttsSettings}),m=T({...s.audioSettings}),n=T({...s.uiSettings}),E=S=>{f.value=S},F=()=>{try{s.updateTTSSettings(u),s.updateAudioSettings(m),s.updateUISettings(n),O.success("设置保存成功")}catch(S){console.error("保存设置失败:",S),O.error("保存设置失败")}},M=()=>{s.resetSettings(),Object.assign(u,s.ttsSettings),Object.assign(m,s.audioSettings),Object.assign(n,s.uiSettings),O.success("设置已重置")},r=()=>{v.push("/")};return(S,l)=>{const j=y("Setting"),b=ee,K=y("HomeFilled"),z=le,G=h,J=y("Microphone"),k=se,B=y("Headphones"),L=y("Monitor"),D=y("InfoFilled"),Q=ne,A=ae,i=me,V=de,d=ie,H=re,P=pe,x=ue,g=fe,C=ve,R=ge,W=Se,X=oe,Y=te,Z=be;return c(),I("div",Ie,[e(Z,{class:"settings-container"},{default:t(()=>[e(G,{class:"settings-header"},{default:t(()=>[o("div",Ue,[o("div",Ee,[e(b,null,{default:t(()=>[e(j)]),_:1}),l[20]||(l[20]=o("h1",null,"设置",-1))]),o("div",ke,[e(z,{onClick:r},{default:t(()=>[e(b,null,{default:t(()=>[e(K)]),_:1}),l[21]||(l[21]=p(" 返回首页 ",-1))]),_:1})])])]),_:1}),e(Y,{class:"settings-main"},{default:t(()=>[o("div",we,[e(X,{gutter:24},{default:t(()=>[e(A,{span:6},{default:t(()=>[e(Q,{"default-active":f.value,onSelect:E,class:"settings-menu"},{default:t(()=>[e(k,{index:"tts"},{default:t(()=>[e(b,null,{default:t(()=>[e(J)]),_:1}),l[22]||(l[22]=o("span",null,"TTS 设置",-1))]),_:1}),e(k,{index:"audio"},{default:t(()=>[e(b,null,{default:t(()=>[e(B)]),_:1}),l[23]||(l[23]=o("span",null,"音频设置",-1))]),_:1}),e(k,{index:"ui"},{default:t(()=>[e(b,null,{default:t(()=>[e(L)]),_:1}),l[24]||(l[24]=o("span",null,"界面设置",-1))]),_:1}),e(k,{index:"about"},{default:t(()=>[e(b,null,{default:t(()=>[e(D)]),_:1}),l[25]||(l[25]=o("span",null,"关于",-1))]),_:1})]),_:1},8,["default-active"])]),_:1}),e(A,{span:18},{default:t(()=>[o("div",ze,[f.value==="tts"?(c(),I("div",xe,[l[26]||(l[26]=o("h2",null,"TTS 设置",-1)),e(x,{model:u,"label-width":"120px",onSubmit:l[6]||(l[6]=N(()=>{},["prevent"]))},{default:t(()=>[e(d,{label:"服务提供商"},{default:t(()=>[e(V,{modelValue:u.provider,"onUpdate:modelValue":l[0]||(l[0]=a=>u.provider=a)},{default:t(()=>[e(i,{label:"阿里云 DashScope",value:"aliyun"}),e(i,{label:"GPT-SoVITS",value:"gpt-sovits"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"默认语音"},{default:t(()=>[e(V,{modelValue:u.voice,"onUpdate:modelValue":l[1]||(l[1]=a=>u.voice=a)},{default:t(()=>[e(i,{label:"知初",value:"zhichu"}),e(i,{label:"知美",value:"zhimei"}),e(i,{label:"知文",value:"zhiwen"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"默认语速"},{default:t(()=>[e(H,{modelValue:u.speed,"onUpdate:modelValue":l[2]||(l[2]=a=>u.speed=a),min:.5,max:2,step:.1,"show-input":""},null,8,["modelValue"])]),_:1}),e(d,{label:"默认音调"},{default:t(()=>[e(H,{modelValue:u.pitch,"onUpdate:modelValue":l[3]||(l[3]=a=>u.pitch=a),min:.5,max:2,step:.1,"show-input":""},null,8,["modelValue"])]),_:1}),e(d,{label:"API Key"},{default:t(()=>[e(P,{modelValue:u.apiKey,"onUpdate:modelValue":l[4]||(l[4]=a=>u.apiKey=a),type:"password","show-password":"",placeholder:"请输入 API Key"},null,8,["modelValue"])]),_:1}),e(d,{label:"API URL"},{default:t(()=>[e(P,{modelValue:u.apiUrl,"onUpdate:modelValue":l[5]||(l[5]=a=>u.apiUrl=a),placeholder:"请输入 API URL（可选）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):U("",!0),f.value==="audio"?(c(),I("div",Ce,[l[29]||(l[29]=o("h2",null,"音频设置",-1)),e(x,{model:m,"label-width":"120px",onSubmit:l[12]||(l[12]=N(()=>{},["prevent"]))},{default:t(()=>[e(d,{label:"输出格式"},{default:t(()=>[e(V,{modelValue:m.outputFormat,"onUpdate:modelValue":l[7]||(l[7]=a=>m.outputFormat=a)},{default:t(()=>[e(i,{label:"MP3",value:"mp3"}),e(i,{label:"WAV",value:"wav"}),e(i,{label:"AAC",value:"aac"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"采样率"},{default:t(()=>[e(V,{modelValue:m.sampleRate,"onUpdate:modelValue":l[8]||(l[8]=a=>m.sampleRate=a)},{default:t(()=>[e(i,{label:"44.1 kHz",value:44100}),e(i,{label:"48 kHz",value:48e3}),e(i,{label:"96 kHz",value:96e3})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"比特率"},{default:t(()=>[e(V,{modelValue:m.bitRate,"onUpdate:modelValue":l[9]||(l[9]=a=>m.bitRate=a)},{default:t(()=>[e(i,{label:"128 kbps",value:128}),e(i,{label:"192 kbps",value:192}),e(i,{label:"256 kbps",value:256}),e(i,{label:"320 kbps",value:320})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"声道数"},{default:t(()=>[e(C,{modelValue:m.channels,"onUpdate:modelValue":l[10]||(l[10]=a=>m.channels=a)},{default:t(()=>[e(g,{label:1},{default:t(()=>[...l[27]||(l[27]=[p("单声道",-1)])]),_:1}),e(g,{label:2},{default:t(()=>[...l[28]||(l[28]=[p("立体声",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"音频标准化"},{default:t(()=>[e(R,{modelValue:m.normalize,"onUpdate:modelValue":l[11]||(l[11]=a=>m.normalize=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):U("",!0),f.value==="ui"?(c(),I("div",Re,[l[37]||(l[37]=o("h2",null,"界面设置",-1)),e(x,{model:n,"label-width":"120px",onSubmit:l[19]||(l[19]=N(()=>{},["prevent"]))},{default:t(()=>[e(d,{label:"主题"},{default:t(()=>[e(C,{modelValue:n.theme,"onUpdate:modelValue":l[13]||(l[13]=a=>n.theme=a)},{default:t(()=>[e(g,{label:"light"},{default:t(()=>[...l[30]||(l[30]=[p("浅色",-1)])]),_:1}),e(g,{label:"dark"},{default:t(()=>[...l[31]||(l[31]=[p("深色",-1)])]),_:1}),e(g,{label:"auto"},{default:t(()=>[...l[32]||(l[32]=[p("跟随系统",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"语言"},{default:t(()=>[e(V,{modelValue:n.language,"onUpdate:modelValue":l[14]||(l[14]=a=>n.language=a)},{default:t(()=>[e(i,{label:"简体中文",value:"zh-CN"}),e(i,{label:"English",value:"en-US"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"字体大小"},{default:t(()=>[e(C,{modelValue:n.fontSize,"onUpdate:modelValue":l[15]||(l[15]=a=>n.fontSize=a)},{default:t(()=>[e(g,{label:"small"},{default:t(()=>[...l[33]||(l[33]=[p("小",-1)])]),_:1}),e(g,{label:"medium"},{default:t(()=>[...l[34]||(l[34]=[p("中",-1)])]),_:1}),e(g,{label:"large"},{default:t(()=>[...l[35]||(l[35]=[p("大",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"显示网格"},{default:t(()=>[e(R,{modelValue:n.showGrid,"onUpdate:modelValue":l[16]||(l[16]=a=>n.showGrid=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"自动保存"},{default:t(()=>[e(R,{modelValue:n.autoSave,"onUpdate:modelValue":l[17]||(l[17]=a=>n.autoSave=a)},null,8,["modelValue"])]),_:1}),n.autoSave?(c(),_e(d,{key:0,label:"保存间隔"},{default:t(()=>[e(W,{modelValue:n.autoSaveInterval,"onUpdate:modelValue":l[18]||(l[18]=a=>n.autoSaveInterval=a),min:1,max:300,"controls-position":"right"},null,8,["modelValue"]),l[36]||(l[36]=o("span",{style:{"margin-left":"8px"}},"秒",-1))]),_:1})):U("",!0)]),_:1},8,["model"])])):U("",!0),f.value==="about"?(c(),I("div",Te,[...l[38]||(l[38]=[o("h2",null,"关于",-1),o("div",{class:"about-content"},[o("div",{class:"app-info"},[o("h3",null,"云听文转声精修界面"),o("p",null,"版本: 1.0.0"),o("p",null,"基于阿里云 CosyVoice 技术构建的智能音频编辑器")]),o("div",{class:"tech-stack"},[o("h4",null,"技术栈"),o("ul",null,[o("li",null,"前端: Vue 3 + TypeScript + Element Plus"),o("li",null,"后端: Node.js + Fastify"),o("li",null,"TTS: 阿里云 DashScope CosyVoice"),o("li",null,"数据库: MySQL + Redis")])]),o("div",{class:"features"},[o("h4",null,"主要功能"),o("ul",null,[o("li",null,"智能语音合成"),o("li",null,"多轨道音频编辑"),o("li",null,"实时参数调节"),o("li",null,"项目管理与导出"),o("li",null,"云端 API 集成")])])],-1)])])):U("",!0),o("div",Ne,[e(z,{onClick:M},{default:t(()=>[...l[39]||(l[39]=[p("重置设置",-1)])]),_:1}),e(z,{type:"primary",onClick:F},{default:t(()=>[...l[40]||(l[40]=[p("保存设置",-1)])]),_:1})])])]),_:1})]),_:1})])]),_:1})]),_:1})])}}}),Ke=ce(Oe,[["__scopeId","data-v-59fa5032"]]);export{Ke as default};
